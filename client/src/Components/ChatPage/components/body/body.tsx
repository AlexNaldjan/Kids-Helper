import { useNavigate } from 'react-router-dom';
import styles from './style.module.css';
import { useSelector } from 'react-redux';
import { RootState } from '../../../../store';
import { Message } from '../../ChatPage';

interface BodyProps {
  messages: Message[];
}

export const Body: React.FC<BodyProps> = ({ messages }) => {
  const profile = useSelector(
    (state: RootState) => state.auth.profileData.profile,
  );
  const navigate = useNavigate();
  const handleLeave = () => {
    navigate('/');
  };
  return (
    <>
      <header className={styles.header}>
        <div className={styles.logo}>
          <svg
            width="150"
            height="75"
            viewBox="0 0 309 206"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M19.84 127.48V149H5.36V92.36H19.84V114.12H27.6L39.84 92.36H56.32L39.52 119.48L56.16 149H39.36L27.92 127.48H19.84ZM66.4081 86.84C67.5815 86.84 68.6748 87.0267 69.6881 87.4C70.7015 87.7733 71.5815 88.3333 72.3281 89.08C73.1281 89.8267 73.7681 90.7067 74.2481 91.72C74.7281 92.7333 74.9681 93.9067 74.9681 95.24C74.9681 98.0133 74.1148 100.12 72.4081 101.56C70.7015 102.947 68.7015 103.64 66.4081 103.64C65.2881 103.64 64.2215 103.48 63.2081 103.16C62.1948 102.787 61.2881 102.253 60.4881 101.56C59.6881 100.867 59.0481 100.013 58.5681 99C58.0881 97.9333 57.8481 96.68 57.8481 95.24C57.8481 93.9067 58.0881 92.7333 58.5681 91.72C59.1015 90.7067 59.7681 89.8267 60.5681 89.08C61.3681 88.3333 62.2748 87.7733 63.2881 87.4C64.3015 87.0267 65.3415 86.84 66.4081 86.84ZM73.5281 149H59.4481V106.84H73.5281V149ZM81.8475 149V92.36H104.008C108.488 92.36 112.514 92.9733 116.088 94.2C119.714 95.3733 122.781 97.1333 125.288 99.48C127.794 101.827 129.714 104.76 131.048 108.28C132.434 111.8 133.128 115.88 133.128 120.52C133.128 130.013 130.568 137.133 125.448 141.88C120.381 146.627 113.288 149 104.168 149H81.8475ZM104.328 135.64C106.994 135.64 109.234 135.293 111.048 134.6C112.861 133.853 114.301 132.84 115.368 131.56C116.488 130.227 117.288 128.653 117.768 126.84C118.248 124.973 118.488 122.947 118.488 120.76C118.488 118.627 118.248 116.653 117.768 114.84C117.341 113.027 116.568 111.453 115.448 110.12C114.328 108.787 112.808 107.747 110.888 107C109.021 106.2 106.648 105.8 103.768 105.8H96.3275V135.64H104.328ZM169.924 110.52C169.657 108.76 168.724 107.4 167.124 106.44C165.524 105.427 163.417 104.92 160.804 104.92C158.99 104.92 157.417 105.24 156.084 105.88C154.75 106.52 154.084 107.48 154.084 108.76C154.084 110.04 154.83 111 156.324 111.64C157.817 112.28 160.004 112.973 162.884 113.72L168.084 115C170.377 115.587 172.537 116.227 174.564 116.92C176.644 117.56 178.457 118.467 180.004 119.64C181.55 120.813 182.777 122.333 183.684 124.2C184.59 126.013 185.097 128.387 185.204 131.32C185.204 134.68 184.537 137.533 183.204 139.88C181.924 142.173 180.217 144.04 178.084 145.48C175.95 146.92 173.524 147.987 170.804 148.68C168.137 149.32 165.417 149.64 162.644 149.64C159.977 149.64 157.284 149.347 154.564 148.76C151.897 148.173 149.364 147.107 146.964 145.56C144.617 144.013 142.617 141.96 140.964 139.4C139.364 136.787 138.377 133.613 138.004 129.88H152.564C153.097 132.173 154.35 133.8 156.324 134.76C158.35 135.72 160.697 136.2 163.364 136.2C164.164 136.2 164.99 136.147 165.844 136.04C166.697 135.933 167.47 135.747 168.164 135.48C168.91 135.16 169.497 134.733 169.924 134.2C170.404 133.667 170.644 132.947 170.644 132.04C170.644 130.867 170.137 129.987 169.124 129.4C168.164 128.76 166.777 128.28 164.964 127.96L160.484 127C157.444 126.36 154.59 125.587 151.924 124.68C149.257 123.773 147.097 122.707 145.444 121.48C143.684 120.147 142.297 118.467 141.284 116.44C140.27 114.413 139.764 111.827 139.764 108.68V108.52C139.977 105.32 140.777 102.653 142.164 100.52C143.55 98.3867 145.284 96.6533 147.364 95.32C149.71 93.8267 152.164 92.84 154.724 92.36C157.337 91.88 160.084 91.64 162.964 91.64C165.364 91.6933 167.684 92.0667 169.924 92.76C172.217 93.4 174.244 94.3333 176.004 95.56C178.244 97.1067 180.03 99.1333 181.364 101.64C182.697 104.093 183.55 107.053 183.924 110.52H169.924Z"
              fill="#364351"
            />
            <path
              d="M5.216 191V157.064H9.296V169.592C9.712 168.952 10.24 168.36 10.88 167.816C11.52 167.272 12.192 166.824 12.896 166.472C13.6 166.12 14.368 165.864 15.2 165.704C16.064 165.512 16.896 165.416 17.696 165.416C19.52 165.416 21.04 165.72 22.256 166.328C23.504 166.904 24.496 167.72 25.232 168.776C26 169.8 26.528 171.032 26.816 172.472C27.136 173.88 27.296 175.416 27.296 177.08V191H23.216V178.328C23.216 177.176 23.152 176.056 23.024 174.968C22.896 173.848 22.608 172.856 22.16 171.992C21.712 171.128 21.072 170.424 20.24 169.88C19.408 169.304 18.272 169.016 16.832 169.016C15.648 169.016 14.544 169.32 13.52 169.928C12.528 170.504 11.728 171.24 11.12 172.136C10.384 173.128 9.888 174.232 9.632 175.448C9.408 176.664 9.296 177.912 9.296 179.192V191H5.216ZM44.9034 179.864C44.9994 180.984 45.2234 182.024 45.5754 182.984C45.9594 183.912 46.4714 184.728 47.1114 185.432C47.7514 186.136 48.5354 186.696 49.4634 187.112C50.4234 187.496 51.5274 187.688 52.7754 187.688C53.3834 187.688 54.0074 187.64 54.6474 187.544C55.3194 187.416 55.9434 187.224 56.5194 186.968C57.0954 186.68 57.6074 186.312 58.0554 185.864C58.5034 185.416 58.8394 184.872 59.0634 184.232H63.2394C62.9514 185.448 62.4554 186.504 61.7514 187.4C61.0794 188.296 60.2634 189.032 59.3034 189.608C58.3754 190.184 57.3354 190.616 56.1834 190.904C55.0314 191.16 53.8634 191.288 52.6794 191.288C50.6634 191.288 48.9034 190.968 47.3994 190.328C45.9274 189.688 44.6954 188.808 43.7034 187.688C42.7114 186.536 41.9754 185.176 41.4954 183.608C41.0154 182.008 40.7754 180.264 40.7754 178.376C40.7754 176.488 41.0314 174.76 41.5434 173.192C42.0874 171.592 42.8554 170.216 43.8474 169.064C44.8394 167.912 46.0554 167.016 47.4954 166.376C48.9354 165.736 50.6474 165.416 52.6314 165.416C54.6474 165.416 56.3914 165.816 57.8634 166.616C59.3354 167.416 60.5194 168.472 61.4154 169.784C62.3114 171.064 62.9354 172.456 63.2874 173.96C63.6714 175.464 63.8314 176.856 63.7674 178.136C63.7674 178.424 63.7514 178.712 63.7194 179C63.7194 179.288 63.7034 179.576 63.6714 179.864H44.9034ZM59.6394 176.312C59.5754 174.168 58.9034 172.424 57.6234 171.08C56.3434 169.736 54.6314 169.064 52.4874 169.064C51.3034 169.064 50.2634 169.256 49.3674 169.64C48.4714 170.024 47.7194 170.552 47.1114 171.224C46.5034 171.896 46.0234 172.68 45.6714 173.576C45.3194 174.44 45.0954 175.352 44.9994 176.312H59.6394ZM77.411 191V157.064H81.491V191H77.411ZM96.071 200.12V165.704H99.959L100.151 169.496C101.015 168.184 102.183 167.192 103.655 166.52C105.159 165.816 106.775 165.448 108.503 165.416C110.455 165.416 112.103 165.752 113.447 166.424C114.823 167.064 115.959 167.976 116.855 169.16C117.783 170.312 118.471 171.688 118.919 173.288C119.367 174.856 119.591 176.552 119.591 178.376C119.591 180.232 119.367 181.944 118.919 183.512C118.471 185.08 117.783 186.44 116.855 187.592C115.927 188.744 114.759 189.656 113.351 190.328C111.943 190.968 110.263 191.288 108.311 191.288C106.391 191.288 104.759 190.984 103.415 190.376C102.071 189.768 100.983 188.92 100.151 187.832V200.12H96.071ZM107.975 187.688C109.351 187.688 110.503 187.448 111.431 186.968C112.391 186.456 113.159 185.784 113.735 184.952C114.343 184.088 114.775 183.096 115.031 181.976C115.319 180.856 115.479 179.656 115.511 178.376C115.511 177.096 115.367 175.896 115.079 174.776C114.823 173.624 114.391 172.632 113.783 171.8C113.175 170.968 112.375 170.312 111.383 169.832C110.423 169.32 109.255 169.064 107.879 169.064C106.247 169.064 104.839 169.512 103.655 170.408C102.471 171.272 101.575 172.376 100.967 173.72C100.615 174.456 100.375 175.224 100.247 176.024C100.119 176.792 100.055 177.592 100.055 178.424C100.055 179.384 100.119 180.28 100.247 181.112C100.375 181.912 100.615 182.68 100.967 183.416C101.575 184.632 102.455 185.656 103.607 186.488C104.791 187.288 106.247 187.688 107.975 187.688ZM136.368 179.864C136.464 180.984 136.688 182.024 137.04 182.984C137.424 183.912 137.936 184.728 138.576 185.432C139.216 186.136 140 186.696 140.928 187.112C141.888 187.496 142.992 187.688 144.24 187.688C144.848 187.688 145.472 187.64 146.112 187.544C146.784 187.416 147.408 187.224 147.984 186.968C148.56 186.68 149.072 186.312 149.52 185.864C149.968 185.416 150.304 184.872 150.528 184.232H154.704C154.416 185.448 153.92 186.504 153.216 187.4C152.544 188.296 151.728 189.032 150.768 189.608C149.84 190.184 148.8 190.616 147.648 190.904C146.496 191.16 145.328 191.288 144.144 191.288C142.128 191.288 140.368 190.968 138.864 190.328C137.392 189.688 136.16 188.808 135.168 187.688C134.176 186.536 133.44 185.176 132.96 183.608C132.48 182.008 132.24 180.264 132.24 178.376C132.24 176.488 132.496 174.76 133.008 173.192C133.552 171.592 134.32 170.216 135.312 169.064C136.304 167.912 137.52 167.016 138.96 166.376C140.4 165.736 142.112 165.416 144.096 165.416C146.112 165.416 147.856 165.816 149.328 166.616C150.8 167.416 151.984 168.472 152.88 169.784C153.776 171.064 154.4 172.456 154.752 173.96C155.136 175.464 155.296 176.856 155.232 178.136C155.232 178.424 155.216 178.712 155.184 179C155.184 179.288 155.168 179.576 155.136 179.864H136.368ZM151.104 176.312C151.04 174.168 150.368 172.424 149.088 171.08C147.808 169.736 146.096 169.064 143.952 169.064C142.768 169.064 141.728 169.256 140.832 169.64C139.936 170.024 139.184 170.552 138.576 171.224C137.968 171.896 137.488 172.68 137.136 173.576C136.784 174.44 136.56 175.352 136.464 176.312H151.104ZM168.875 191V165.704H172.811L173.003 169.64C173.931 168.168 175.115 167.096 176.555 166.424C177.995 165.752 179.627 165.416 181.451 165.416H182.747V169.256H181.259C179.755 169.256 178.475 169.512 177.419 170.024C176.363 170.504 175.499 171.176 174.827 172.04C174.187 172.872 173.707 173.864 173.387 175.016C173.099 176.168 172.955 177.384 172.955 178.664V191H168.875Z"
              fill="#364351"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M220.251 77.3311L220.494 76.8492L220.072 76.5094C210.15 68.5135 204 57.264 204 44.8277C204 20.72 227.175 1 256 1C284.826 1 308 20.72 308 44.8277C308 68.9355 284.826 88.6555 256 88.6555C248.246 88.6555 240.891 87.2248 234.284 84.6616L233.923 84.5215L233.619 84.7601L205.289 107L220.251 77.3311Z"
              stroke="#364351"
              stroke-width="2"
            />
            <path
              d="M222 58.7611C226.211 47.9168 236.159 27.7465 242.257 33.8194C248.357 39.8922 244.799 51.5318 242.257 56.5924C245.525 52.3269 251.842 45.7916 250.97 53.7729C249.881 63.7495 249.228 45.3143 258.376 50.9533C267.525 56.5924 262.079 62.6651 258.376 58.7611C254.673 54.8573 262.515 47.917 267.525 52.2546C272.535 56.5924 274.059 62.2313 278.634 56.5924C282.293 52.0811 286.402 37.651 288 31"
              stroke="#364351"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>
        </div>
        <button className={styles.btn} onClick={handleLeave}>
          Покинуть чат
        </button>
      </header>

      <div className={styles.container}>
        {messages.map(element =>
          element.name === profile.username ? (
            <div className={styles.chats} key={element.id}>
              <p className={styles.senderName}>Вы</p>
              <div className={styles.messageSender}>
                <p>{element.text}</p>
              </div>
            </div>
          ) : (
            <div className={styles.chats}>
              <p>{element.name}</p>
              <div className={styles.messageRecipient}>
                <p>{element.text}</p>
              </div>
            </div>
          ),
        )}
      </div>
    </>
  );
};
